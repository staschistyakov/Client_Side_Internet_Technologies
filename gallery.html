<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Stanford Gallery</title>
<style>

#photoSection{
	position: absolute;
}

#caption {
	padding: 10px;
	box-sizing: border-box;
	color: white;
	font-size: 14pt;
	font-family: sans-serif;
	background-color: #008800;
	opacity: 0.5;
	position: absolute;
	bottom: 0px;
	width: 100%;
}

#forwardOverlay{
	position: absolute;
	right: 0px;
	top: 0px;
	height: 100%;
	width: 100px;
}

#backwardOverlay{
	position: absolute;
	left: 0px;
	top: 0px;
	height: 100%;
	width: 100px;
}

</style>
</head>

<body>
<div id="photoSection">

<img  id='photo' src='memchu.jpg' alt='photo' />
<div id="caption">
Stanford Memorial Church - the church used to have an 80' bell tower, which fell in the 1906 earthquake.
</div>
<div id="forwardOverlay"></div>
<div id="backwardOverlay"></div>

</div>

<script>
"use strict";
var photoArray = [
		{filename: "memchu.jpg",
		 caption: "Stanford Memorial Church - the church used to have an 80' bell tower, which fell in the 1906 earthquake."},
		{filename: "quad.jpg",
		 caption: "The Stanford Quad"},
		{filename: "hoop.jpg",
		 caption: "The <i>Red Hoop Fountain</i> with Green Library in the background."},
		{filename: "memorial-court.jpg",
		 caption: "Memorial Court (in the front of the Quad) with Rodin's <i>Burghers of Calais</i> statues."},
		{filename: "gates.jpg",
		 caption: "The Gates Building - home of Stanford Computer Science."},
		{filename: "stone-river.jpg",
		 caption: "The Stone River statue near the Cantor Arts Center (Stanford's own art museum)."},
	];

document.getElementById("photoSection").style.left = (window.innerWidth/2)-400+"px";
document.getElementById("photoSection").style.top = (window.innerHeight/2)-300+"px";

function handle_resize(){
	document.getElementById("photoSection").style.left = (window.innerWidth/2)-400+"px";
	document.getElementById("photoSection").style.top = (window.innerHeight/2)-300+"px";
}

function next(){
	var current_src = document.getElementById("photo").getAttribute("src");
	var current_ind = 0;
	for (var i=0; i<photoArray.length; i++){
		if (photoArray[i]["filename"] == current_src){
			current_ind = i;
		}
	}
	if (current_ind == photoArray.length-1){
		current_ind = 0;
	} else {
		current_ind = current_ind + 1;
	}
	document.getElementById("photo").src = photoArray[current_ind]["filename"];
	document.getElementById("caption").innerHTML = photoArray[current_ind]["caption"];
}

function last(){
	var current_src = document.getElementById("photo").getAttribute("src");
	var current_ind = 0;
	for (var i=0; i<photoArray.length; i++){
		if (photoArray[i]["filename"] == current_src){
			current_ind = i;
		}
	}
	if (current_ind == 0){
		current_ind = photoArray.length-1;
	} else {
		current_ind = current_ind - 1;
	}
	document.getElementById("photo").src = photoArray[current_ind]["filename"];
	document.getElementById("caption").innerHTML = photoArray[current_ind]["caption"];
}

window.addEventListener("resize",handle_resize,false);
document.getElementById("forwardOverlay").addEventListener("click",next,false);
document.getElementById("backwardOverlay").addEventListener("click",last,false);

</script>
</body>
</html>
